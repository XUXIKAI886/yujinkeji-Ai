# 域锦科技 AI 助手平台

一个基于 AI 技术的智能助手平台，专注于提升外卖运营效率和数据分析能力。平台集成了多种专业 AI 助手、聊天系统、数据可视化和思维导图等功能，为用户提供全方位的智能化支持。

## 🌟 核心功能特性

### 1. 智能 AI 助手系统
- **多场景专业助手**：针对不同业务场景定制的专业AI助手
- **自然语言交互**：流畅的对话体验和精准的意图理解
- **智能问答和建议**：基于专业知识库的智能回答和建议
- **个性化助手引导**：每个助手都有针对性的使用指南
  - 美团全能客服：客服咨询指引
  - 外卖菜品图生成：图片生成参数指引
  - 抖音文案提取：链接格式说明
  - 外卖商圈调研：数据采集指引
  - 外卖店铺数据分析：数据导出指引
  - 外卖店铺诊断：诊断项目指引

### 2. 聊天系统
- **丰富的消息展示**：支持Markdown、代码、图片等多种格式
- **文件上传与分析**：支持上传文件并由AI助手进行分析
- **历史消息导出**：支持导出聊天记录为PDF或Markdown格式
- **实时反馈**：即时响应用户输入，流畅的交互体验

### 3. 数据可视化应用
- **销售数据可视化**
  - 销售趋势分析图表
  - 营业额统计与预测
  - 客流量分析与比较
  - 转化率追踪与优化
  - 实时数据更新与刷新
- **商圈数据分析**
  - 区域市场竞争分析
  - 商圈规模与密度统计
  - 区域客流量与消费能力分析
  - 市场机会识别与推荐
- **竞店数据分析**
  - 竞争对手价格监控
  - 菜品结构与销量分析
  - 评价对比与情感分析
  - 市场定位与差异化策略

### 4. 思维导图工具
- **Markdown 格式支持**：使用简单的Markdown语法创建思维导图
- **实时预览**：边编辑边查看思维导图效果
- **多种导出格式**：支持导出为SVG、PNG等格式
- **主题定制**：紫色主题与多种节点样式

### 5. 用户管理系统
- **基于邀请码的注册机制**
  - 管理员生成8位安全邀请码
  - 7天有效期限制确保安全
  - 一次性使用限制防止滥用
  - 邀请码状态实时追踪
- **增强的密码安全策略**
  - 最小长度：8字符
  - 必须包含大小写字母
  - 必须包含数字
  - 必须包含特殊字符
  - 实时密码强度验证与提示

### 6. 积分系统
- **操作与积分挂钩**：特定操作消耗或增加积分
- **积分历史记录**：详细的积分变动历史查询
- **积分充值**：支持在线充值积分
- **积分消费**：使用高级功能时的积分扣除

## 📊 专业数据分析工具

### 1. 商圈分析
- **店铺评分分布**：区域内不同评分档位的店铺数量分析
- **月售订单分布**：订单量区间统计与占比分析
- **起送价分布**：不同起送价格区间的店铺分布
- **配送费分析**：配送费用区间统计与平均值计算
- **配送时间分布**：不同配送时间区间的店铺比例
- **店铺名称词云图**：直观展示区域内店铺关键词

### 2. 评价分析
- **评分分布统计**：不同星级评价的数量与占比
- **情感分析**：评价文本的情感倾向识别
- **评分趋势分析**：评分随时间的变化趋势
- **词频统计**：高频评价关键词分析
- **评价词云图**：直观展示评价关键词

### 3. 销售可视化
- **收入趋势分析**：销售额的时间变化趋势
- **曝光和转化分析**：曝光人数、入店人数、下单人数数据分析
- **转化率分析**：各环节转化率计算与优化建议
- **区间对比**：不同时间段的销售数据对比

### 4. 绩效统计
- **店铺结算分析**：各店铺结算金额统计
- **结算天数统计**：结算周期分析
- **绩效金额计算**：按规则自动计算绩效
- **数据导出功能**：支持Excel格式导出

### 5. 服务商统计
- **每日店铺数统计**：服务店铺数量变化趋势
- **结算金额分析**：服务收入统计与分析
- **趋势图表展示**：直观展示业务发展趋势
- **Excel导出功能**：支持数据表格导出

## 🛠️ 技术架构

### 前端技术栈
- **核心框架**：React 18
- **UI组件库**：Ant Design 5.x
- **CSS解决方案**：Styled Components
- **状态管理**：React Context API
- **图表库**：ECharts 5.x
- **数据处理**：Papa Parse (CSV)、XLSX (Excel)
- **思维导图**：Markmap
- **交互动画**：Framer Motion

### 后端技术栈
- **运行环境**：Node.js
- **Web框架**：Express
- **数据库**：MongoDB (Mongoose ODM)
- **认证**：JWT (JSON Web Token)
- **日志**：Winston
- **文件处理**：Multer
- **AI服务集成**：各大AI服务API

## 🏗️ 项目架构

### 客户端架构 (client)
```
client/
├── public/           # 静态资源文件夹
│   ├── assets/       # 图片等资源
│   ├── docs/         # 文档
│   ├── favicon.svg   # 网站图标
│   └── index.html    # HTML 模板
├── src/              # 源代码
│   ├── assets/       # 资源文件
│   ├── components/   # 公共组件
│   │   ├── ChatLayout.js      # 聊天界面布局
│   │   ├── ChatWindow/        # 聊天窗口组件
│   │   ├── Sidebar.js         # 侧边栏组件
│   │   └── ...
│   ├── contexts/     # Context API 上下文
│   │   ├── AuthContext.js     # 认证上下文
│   │   └── ...
│   ├── pages/        # 页面组件
│   │   ├── LoginPage.js       # 登录页面
│   │   ├── RegisterPage.js    # 注册页面
│   │   ├── ChatPage.js        # 聊天主页面
│   │   └── ...
│   ├── services/     # API 服务
│   └── utils/        # 工具函数
└── package.json      # 依赖配置
```

### 服务器端架构 (server)
```
server/
├── app.js            # 应用入口
├── config/           # 配置文件
├── controllers/      # 控制器
│   ├── authController.js      # 认证控制器
│   ├── aiAssistantController.js  # AI助手控制器
│   ├── chatController.js      # 聊天控制器
│   └── ...
├── middlewares/      # 中间件
├── models/           # 数据模型
│   ├── User.js                # 用户模型
│   ├── AIAssistant.js         # AI助手模型
│   ├── ChatHistory.js         # 聊天历史模型
│   └── ...
├── routes/           # 路由定义
├── scripts/          # 脚本工具
│   ├── initAIAssistants.js    # 初始化AI助手
│   └── ...
├── services/         # 服务层
│   ├── aiAssistantService.js  # AI助手服务
│   ├── cozeService.js         # Coze服务集成
│   └── ...
└── utils/            # 工具函数
```

## 🚀 安装与部署

### 环境要求
- Node.js >= 16.0.0
- MongoDB >= 5.0
- NPM 或 Yarn

### 安装步骤

1. **克隆项目**
```bash
git clone [项目地址]
cd ai-assistant-platform
```

2. **安装依赖**
```bash
# 安装服务器依赖
cd server
npm install

# 安装客户端依赖
cd ../client
npm install
```

3. **配置环境变量**

服务器端 (server/.env):
```
PORT=3001
MONGODB_URI=mongodb://localhost:27017/ai_assistant_db
JWT_SECRET=your_jwt_secret
JWT_EXPIRES_IN=7d
API_VERSION=1.0.0
```

客户端 (client/.env):
```
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_VERSION=1.0.0
```

4. **初始化数据库**
```bash
cd server
node scripts/initAIAssistants.js
```

5. **启动服务**

开发模式:
```bash
# 启动服务器
cd server
npm run dev

# 启动客户端 (新终端)
cd client
npm start
```

生产模式:
```bash
# 构建客户端
cd client
npm run build

# 启动服务器 (会自动提供客户端静态文件)
cd ../server
npm start
```

## 🔍 使用指南

### 1. 用户认证
- **注册**：需使用有效邀请码，遵循密码安全策略
- **登录**：使用注册邮箱和密码
- **个人资料**：登录后可以在右上角查看和管理个人资料

### 2. AI助手使用
- 在左侧边栏选择适合的AI助手
- 阅读助手的欢迎语，了解其专业领域和使用方法
- 在聊天输入框中输入问题或需求
- 可上传文件进行分析，点击输入框右侧的上传按钮
- 聊天记录可导出为PDF或Markdown格式

### 3. 数据分析工具
- 点击右侧功能栏中的相应按钮进入各数据分析工具
- 按提示上传数据文件(CSV/Excel)
- 系统自动生成分析图表和结果
- 分析结果可导出保存

### 4. 思维导图
- 点击右侧功能栏的"思维导图"按钮
- 使用Markdown语法编写思维导图内容
- 实时预览思维导图效果
- 使用工具栏按钮导出或分享思维导图

## 👥 开发团队

- 域锦科技研发团队

## © 版权信息

© 2024 域锦科技 版权所有 
REACT_APP_VERSION=1.0.0
```

4. **初始化数据库**
```bash
cd server
node scripts/initAIAssistants.js
```

5. **启动服务**

开发模式:
```bash
# 启动服务器
cd server
npm run dev

# 启动客户端 (新终端)
cd client
npm start
```

生产模式:
```bash
# 构建客户端
cd client
npm run build

# 启动服务器 (会自动提供客户端静态文件)
cd ../server
npm start
```

## 🔍 使用指南

### 1. 用户认证
- **注册**：需使用有效邀请码，遵循密码安全策略
- **登录**：使用注册邮箱和密码
- **个人资料**：登录后可以在右上角查看和管理个人资料

### 2. AI助手使用
- 在左侧边栏选择适合的AI助手
- 阅读助手的欢迎语，了解其专业领域和使用方法
- 在聊天输入框中输入问题或需求
- 可上传文件进行分析，点击输入框右侧的上传按钮
- 聊天记录可导出为PDF或Markdown格式

### 3. 数据分析工具
- 点击右侧功能栏中的相应按钮进入各数据分析工具
- 按提示上传数据文件(CSV/Excel)
- 系统自动生成分析图表和结果
- 分析结果可导出保存

### 4. 思维导图
- 点击右侧功能栏的"思维导图"按钮
- 使用Markdown语法编写思维导图内容
- 实时预览思维导图效果
- 使用工具栏按钮导出或分享思维导图

## 👥 开发团队

- 域锦科技研发团队

## © 版权信息

© 2024 域锦科技 版权所有 